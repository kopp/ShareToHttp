language: android
dist: trusty
android:
  components:
    # Uncomment the lines below if you want to
    # use the latest revision of Android SDK Tools
    # - tools
    # - platform-tools

    # The BuildTools version used by your project
    - build-tools-29.0.0

    # The SDK version used to compile your project
    - android-29

script:
- "./gradlew assembleRelease"

# do not run on branches/tags that are autogenerated by github
branches:
  except:
  - "/^untagged/"

deploy:
  provider: releases
  api_key:
    secure: glnqvNuE33Bzg2PeFa0CkopWG+Ai9bxPwNNwGxD5VKWhwkdmxqXOaaPwaiOrnIg+loWB7Dz3Ku2vSGJk0FGWC7eS87lOfK9e6aMK4cxetmdD8JHpGTSr701nv0NX00n1AVUb56BMoazPFv2V4Y8wmrvWoIgLW8uFUMYwhGPi5O0TsKxDzc+uIChfJ6OPxXjWUvZJD7q1uBxGXiAmn9sf9q/8tNH/g3lO+Dx43xtAeUXoK3LIVkwe8zgam68qAJD9beNCpmrzi8bdh6oShnc+ikklcr+Qm+jDZ4FHlobLRrs3gK7VO7WR6JyzDPw5MG+RBOOAGsMfE+pQDqbGtu5/HZMIUU0KRMJy14n8VfzWTIEPYlUZrGx+Rv49LqFDW+AnT3gl9BGFZ74B0FM6zip7AE5AvChup2TJGAfdTbVqX1EoyG1GShKp5dXAtNBGENAOWeaRoLs6xZ+/H69X1yRDFc2OdMak3d4p09jTD9/YrFnNT4MLLy8WfHZnOpzepHz6LEI61/451uW13V35iqbjwlZtDY1pTMwYDDJDN048CcDV8MXiqAUqAUVLA28Av1ivN14RuXG6hudQaIrTAG16iTBNMAbjwHS9QRAL5K+SFs7pDR4n+sSfbMB5tFm6aU87KNsOjfNlEmF3XGBQ80Yr2sRE1F18FWWuElVqvwfkLwk=
  skip_cleanup: true
  file: "./app/build/outputs/apk/release/app-release-unsigned.apk"
  on:
    # use 'on.tags: true' to make sure that a deployment is only made if the commit is a tagged one
    # this is not done and no tag is given, github will create a random one, prefixed 'untagged-'
    repo: kopp/ShareToHttp
    all_branches: true
